$('#modalWindow').html('#{j render template: 'students/purchases/new' }');
setTimeout(function() { $('.modal form .has-error input').first().focus(); }, 0); // Use setTimeout to fix the issue in firefox